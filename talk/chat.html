<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>TALK × SEFF — Register</title>
  <style>
    :root{
      --bg:#100a12; --card:#1b1020; --accent:#ff6b35; --accent2:#ffd166;
      --muted:#d7d7d7; --glass: rgba(255,255,255,0.03); --white:#ffffff;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
    }
    *{box-sizing:border-box}
    body{margin:0;min-height:100vh;background:linear-gradient(180deg,#0b0810 0%, #271927 100%);color:var(--white);}
    .wrap{max-width:980px;margin:28px auto;padding:20px;}
    header{display:flex;align-items:center;gap:14px}
    .logo{width:64px;height:64px;border-radius:12px;background:linear-gradient(135deg,var(--accent),var(--accent2));display:flex;align-items:center;justify-content:center;font-weight:800;color:#3a0505;font-size:20px}
    h1{margin:0;font-size:20px}
    .sub{color:#ffd;opacity:0.9;font-size:13px}
    .grid{display:grid;grid-template-columns:1fr 340px;gap:18px;margin-top:18px}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:18px;border-radius:12px}
    label{display:block;font-size:13px;color:#ffe;}
    input, select{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:var(--white);margin-top:6px}
    .row{display:flex;gap:12px}
    .row > div{flex:1}
    .actions{display:flex;align-items:center;gap:10px;margin-top:12px}
    button{background:var(--accent);border:none;padding:10px 14px;border-radius:10px;color:#230505;font-weight:700;cursor:pointer}
    .ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--white)}
    .muted{color:var(--muted);font-size:13px}
    .error{color:#ffb3b3;background:rgba(255,91,96,0.08);padding:10px;border-radius:8px;margin-bottom:10px}
    footer{margin-top:22px;color:var(--muted);font-size:13px;text-align:center}
    @media (max-width:900px){.grid{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="logo">TALK</div>
      <div>
        <h1>TALK × Food & FASHION Festival (SEFF)</h1>
        <div class="sub">Michael Okpara Square, Enugu — Nov 15–16, 2025 · Student Ticket: ₦1,900</div>
      </div>
    </header>

    <div class="grid">
      <main class="card">
        <h2 style="margin-top:0">Register — Referral required</h2>
        <p class="muted" style="margin-top:6px">Referral code is mandatory. Codes (mock): <code>TALK001</code>, <code>TALK002</code>, <code>TALK003</code>, <code>SEFF2025</code></p>

        <div id="err" class="error" style="display:none"></div>

        <form id="regForm" onsubmit="return false;">
          <div class="row">
            <div>
              <label for="name">Full name</label>
              <input id="name" type="text" placeholder="Adaeze Okonkwo" required />
            </div>
            <div style="width:140px">
              <label for="sex">Sex</label>
              <select id="sex" required>
                <option value="">Select</option>
                <option>Female</option><option>Male</option><option>Non-binary</option><option>Prefer not to say</option>
              </select>
            </div>
          </div>

          <div style="margin-top:10px">
            <label for="email">Email address</label>
            <input id="email" type="email" placeholder="you@university.edu" required />
          </div>

          <div style="margin-top:10px">
            <label for="phone">Phone number</label>
            <input id="phone" type="tel" placeholder="+234 80..." required />
          </div>

          <div style="margin-top:10px">
            <label for="institution">Institution (college)</label>
            <input id="institution" type="text" placeholder="University of Nigeria, Nsukka (UNEC)" required />
          </div>

          <div style="margin-top:10px" class="row">
            <div>
              <label for="category">Ticket type</label>
              <select id="category">
                <option value="student">Student - ₦1,900</option>
                <option value="general">General - ₦3,000</option>
              </select>
            </div>
            <div>
              <label for="referral">Referral code (required)</label>
              <input id="referral" type="text" placeholder="Enter referral code" required />
            </div>
          </div>

          <div style="margin-top:10px">
            <input id="tos" type="checkbox" /> <label style="display:inline-block;margin-left:8px;font-size:13px;color:#ffd;">I have read & accept the <a href="#" onclick="alert('TOS placeholder')">Terms</a> & <a href="#" onclick="alert('Privacy placeholder')">Privacy Policy</a></label>
          </div>

          <div class="actions">
            <button id="continueBtn">Continue → Verify</button>
            <button type="button" class="ghost" onclick="fillDemo()">Fill demo</button>
            <div style="flex:1"></div>
            <div class="muted">Need help? <a href="#" onclick="alert('Contact: hello@talk.app')">Contact us</a></div>
          </div>
        </form>
      </main>

      <aside class="card">
        <h3 style="margin-top:0">SEFF — What to expect</h3>
        <p class="muted">Food activations, runway shows, concerts, business hub, family fun, games, fireworks — Nov 15–16, 2025.</p>
        <div style="margin-top:12px">
          <strong>Student special:</strong>
          <div style="font-weight:800;color:var(--accent);margin-top:6px">₦1,900</div>
        </div>
        <div style="margin-top:12px" class="muted small">
          Referral tracking: campus ambassadors & promo codes will be validated at registration.
        </div>
      </aside>
    </div>

    <footer>© TALK · SEFF 2025 — Michael Okpara Square · Nov 15–16, 2025</footer>
  </div>

  <script>
    // Mock referral codes - you can replace with server-side check later
    const validReferralCodes = ["TALK001","TALK002","TALK003","SEFF2025"];

    function el(id){return document.getElementById(id);}
    function setErr(msg){
      const e = el('err');
      if (!msg){ e.style.display='none'; e.textContent=''; } else { e.style.display='block'; e.textContent=msg; }
    }

    function fillDemo(){
      el('name').value = "Ifeoma Nwosu";
      el('email').value = "ifeoma@student.unec.edu.ng";
      el('phone').value = "+2348012345678";
      el('institution').value = "University of Nigeria, Nsukka (UNEC)";
      el('referral').value = "TALK001";
      el('tos').checked = true;
      el('category').value = "student";
      el('sex').value = "Female";
      setErr('');
    }

    document.getElementById('continueBtn').addEventListener('click', () => {
      setErr('');
      const name = el('name').value.trim();
      const email = el('email').value.trim();
      const phone = el('phone').value.trim();
      const institution = el('institution').value.trim();
      const referral = el('referral').value.trim().toUpperCase();
      const tos = el('tos').checked;
      const category = el('category').value;
      const sex = el('sex').value;

      if (!name || !email || !phone || !institution || !referral || !sex) {
        setErr('Please fill all required fields (including referral code).');
        return;
      }
      if (!tos) { setErr('You must accept Terms & Privacy Policy.'); return; }

      // mock referral validation
      if (!validReferralCodes.includes(referral)) {
        setErr('Invalid referral code. Please check with your campus ambassador.');
        return;
      }

      // Save registration to localStorage to pass to next pages
      const reg = { name, email, phone, institution, referral, category, sex, createdAt: new Date().toISOString() };
      localStorage.setItem('seff_registration', JSON.stringify(reg));

      // TODO: POST to backend to record registration and validate referral server-side.
      // Example: POST /api/register { ... } -> returns registration id / verification token

      // Redirect to verification page
      window.location.href = 'verify.html';
    });
  </script>
</body>
</html>
